2025-12-04 00:44:00.646 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 00:44:01.271 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 00:44:01.277 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 00:44:01.375 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 00:44:01.378 +03:00 [INF] Hosting environment: Development
2025-12-04 00:44:01.382 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 00:44:07.098 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:44:07.103 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:44:11.239 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:44:11.239 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:44:11.875 +03:00 [INF] HTTP GET /api/Product responded 200 in 4833.1018 ms
2025-12-04 00:44:12.201 +03:00 [INF] HTTP GET /api/Cart responded 200 in 5162.8116 ms
2025-12-04 00:44:12.392 +03:00 [INF] HTTP GET /api/Cart responded 200 in 176.1980 ms
2025-12-04 00:44:14.533 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 464.4265 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:44:14.930 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMK995K7I:00000007
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:44:14.955 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:44:57.553 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 00:44:58.065 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 00:44:58.070 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 00:44:58.148 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 00:44:58.153 +03:00 [INF] Hosting environment: Development
2025-12-04 00:44:58.158 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 00:45:06.528 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:45:06.522 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:45:10.166 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:45:10.166 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:45:10.726 +03:00 [INF] HTTP GET /api/Product responded 200 in 4254.3595 ms
2025-12-04 00:45:10.944 +03:00 [INF] HTTP GET /api/Cart responded 200 in 4476.4765 ms
2025-12-04 00:45:11.107 +03:00 [INF] HTTP GET /api/Cart responded 200 in 151.5899 ms
2025-12-04 00:45:13.228 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 332.9523 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:45:13.485 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMKQ7KD8R:00000007
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:45:13.528 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:45:47.172 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 217.9421 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:45:47.327 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMKQ7KD8R:00000009
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:45:47.353 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:45:55.696 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 126.9917 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:45:55.819 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMKQ7KD8R:0000000B
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:45:55.839 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:46:57.757 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 00:46:58.367 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 00:46:58.377 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 00:46:58.445 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 00:46:58.448 +03:00 [INF] Hosting environment: Development
2025-12-04 00:46:58.450 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 00:47:03.543 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:47:03.549 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:47:07.225 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:47:07.225 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:47:07.673 +03:00 [INF] HTTP GET /api/Product responded 200 in 4184.4592 ms
2025-12-04 00:47:07.951 +03:00 [INF] HTTP GET /api/Cart responded 200 in 4467.1040 ms
2025-12-04 00:47:08.104 +03:00 [INF] HTTP GET /api/Cart responded 200 in 136.4697 ms
2025-12-04 00:47:09.264 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 306.2061 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:47:09.541 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMLU1DSTG:00000007
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:47:09.576 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:47:47.443 +03:00 [INF] HTTP GET /api/Cart responded 200 in 36.6285 ms
2025-12-04 00:47:47.472 +03:00 [INF] HTTP GET /api/Product responded 200 in 65.7784 ms
2025-12-04 00:47:47.472 +03:00 [INF] HTTP GET /api/Cart responded 200 in 26.2375 ms
2025-12-04 00:47:48.277 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 163.6197 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:47:48.414 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMLU1DSTG:0000000F
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:47:48.431 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:48:28.259 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 170.9165 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:48:28.387 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMLU1DSTG:00000011
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:48:28.411 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:48:44.390 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 381.9152 ms
2025-12-04 00:48:50.230 +03:00 [INF] HTTP GET /api/Cart responded 200 in 22.4251 ms
2025-12-04 00:48:52.073 +03:00 [INF] HTTP GET /api/Cart responded 200 in 32.3886 ms
2025-12-04 00:50:17.336 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 225.7068 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:50:17.471 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMLU1DSTG:00000019
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:50:17.499 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:50:17.506 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 268.8900 ms
2025-12-04 00:50:25.196 +03:00 [INF] HTTP GET /api/Cart responded 200 in 12.8197 ms
2025-12-04 00:50:25.236 +03:00 [INF] HTTP GET /api/Cart responded 200 in 34.8482 ms
2025-12-04 00:50:25.242 +03:00 [INF] HTTP GET /api/Product responded 200 in 58.5454 ms
2025-12-04 00:50:34.133 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 209.9943 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:50:34.266 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMLU1DSTG:00000021
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:50:34.282 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:51:01.653 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 140.2411 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:51:01.825 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMLU1DSTG:00000023
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:51:01.845 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:52:39.732 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 269.4044 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 00:52:40.015 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMLU1DSTG:00000025
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:52:40.059 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 132
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 00:52:50.451 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 00:52:51.139 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 00:52:51.147 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 00:52:51.232 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 00:52:51.236 +03:00 [INF] Hosting environment: Development
2025-12-04 00:52:51.239 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 00:54:07.236 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 00:54:08.020 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 00:54:08.029 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 00:54:08.151 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 00:54:08.157 +03:00 [INF] Hosting environment: Development
2025-12-04 00:54:08.164 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 00:54:31.160 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:54:31.168 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:54:34.283 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:54:34.283 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:54:37.174 +03:00 [INF] HTTP GET /api/Product responded 200 in 15090.9913 ms
2025-12-04 00:54:37.457 +03:00 [INF] HTTP GET /api/Cart responded 200 in 6333.7778 ms
2025-12-04 00:54:37.457 +03:00 [INF] HTTP GET /api/Cart responded 200 in 866.1860 ms
2025-12-04 00:54:57.690 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 398.5947 ms
2025-12-04 00:55:10.679 +03:00 [INF] HTTP GET /api/Cart responded 200 in 37.2118 ms
2025-12-04 00:55:13.681 +03:00 [INF] HTTP GET /api/Cart responded 200 in 31.7259 ms
2025-12-04 00:57:07.157 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 00:57:07.691 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 00:57:07.697 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 00:57:07.773 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 00:57:07.777 +03:00 [INF] Hosting environment: Development
2025-12-04 00:57:07.779 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 00:57:13.681 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 00:57:58.290 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 44639.9313 ms
2025-12-04 00:57:58.290 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 35773.6672 ms
2025-12-04 00:57:58.635 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 00:57:58.875 +03:00 [INF] HTTP GET /api/Cart responded 200 in 465.8845 ms
2025-12-04 00:59:00.493 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 34401.3360 ms
2025-12-04 00:59:10.287 +03:00 [INF] HTTP GET /api/Cart responded 200 in 23.4614 ms
2025-12-04 01:02:32.318 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:02:33.154 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:02:33.165 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:02:33.277 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:02:33.283 +03:00 [INF] Hosting environment: Development
2025-12-04 01:02:33.288 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:02:48.877 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:02:48.871 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:02:51.778 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:02:51.778 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:02:52.163 +03:00 [INF] HTTP GET /api/Product responded 200 in 3354.7456 ms
2025-12-04 01:02:52.414 +03:00 [INF] HTTP GET /api/Cart responded 200 in 4661.6082 ms
2025-12-04 01:04:32.734 +03:00 [INF] HTTP GET /api/Cart responded 200 in 241.5609 ms
2025-12-04 01:04:32.894 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 401.2753 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:04:33.075 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIMUKJ9RVS:00000007
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:04:33.087 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:04:40.276 +03:00 [INF] HTTP GET /api/Cart responded 200 in 27.8561 ms
2025-12-04 01:04:40.303 +03:00 [INF] HTTP GET /api/Product responded 200 in 54.5860 ms
2025-12-04 01:04:40.304 +03:00 [INF] HTTP GET /api/Cart responded 200 in 24.7666 ms
2025-12-04 01:05:48.629 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:05:49.195 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:05:49.202 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:05:49.276 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:05:49.280 +03:00 [INF] Hosting environment: Development
2025-12-04 01:05:49.283 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:06:02.872 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:06:02.876 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:06:06.042 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:06:06.042 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:06:06.517 +03:00 [INF] HTTP GET /api/Product responded 200 in 3682.0496 ms
2025-12-04 01:06:06.767 +03:00 [INF] HTTP GET /api/Cart responded 200 in 3935.0129 ms
2025-12-04 01:06:06.951 +03:00 [INF] HTTP GET /api/Cart responded 200 in 167.4535 ms
2025-12-04 01:06:33.501 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 342.2724 ms
2025-12-04 01:06:33.631 +03:00 [INF] HTTP GET /api/Cart responded 200 in 19.0938 ms
2025-12-04 01:07:17.498 +03:00 [INF] HTTP GET /api/Cart responded 200 in 19.4947 ms
2025-12-04 01:07:18.881 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 231.9473 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:07:19.112 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIN0F2RUKE:0000000D
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:07:19.131 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 71
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:10:08.074 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:10:08.699 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:10:08.707 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:10:08.789 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:10:08.792 +03:00 [INF] Hosting environment: Development
2025-12-04 01:10:08.796 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:10:14.825 +03:00 [INF] HTTP GET /Account/Login responded 404 in 0.1396 ms
2025-12-04 01:10:14.843 +03:00 [INF] HTTP GET /Account/Login responded 404 in 0.0326 ms
2025-12-04 01:10:14.862 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:10:17.579 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:10:17.957 +03:00 [INF] HTTP GET /api/Product responded 200 in 3175.8202 ms
2025-12-04 01:10:43.264 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 547.7025 ms
2025-12-04 01:10:43.395 +03:00 [INF] HTTP GET /Account/Login responded 404 in 0.0192 ms
2025-12-04 01:10:59.111 +03:00 [INF] HTTP GET /Account/Login responded 404 in 0.0184 ms
2025-12-04 01:11:04.418 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:11:04.457 +03:00 [INF] HTTP GET /api/Product/6a8c74df-c10c-42b9-86fa-9a35d0c1f3c0 responded 200 in 135.2009 ms
2025-12-04 01:11:05.405 +03:00 [INF] HTTP GET /Account/Login responded 404 in 0.0214 ms
2025-12-04 01:11:59.438 +03:00 [INF] HTTP GET /Account/Login responded 404 in 0.1871 ms
2025-12-04 01:11:59.470 +03:00 [INF] HTTP GET /api/Product responded 200 in 53.0538 ms
2025-12-04 01:11:59.506 +03:00 [INF] HTTP GET /api/Product/6a8c74df-c10c-42b9-86fa-9a35d0c1f3c0 responded 200 in 89.2796 ms
2025-12-04 01:12:08.762 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:12:09.324 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:12:09.330 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:12:09.404 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:12:09.408 +03:00 [INF] Hosting environment: Development
2025-12-04 01:12:09.410 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:13:39.756 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:13:42.748 +03:00 [INF] HTTP POST /api/Auth/login responded 400 in 1313.7674 ms
2025-12-04 01:13:42.748 +03:00 [INF] HTTP POST /api/Auth/login responded 400 in 1988.3212 ms
2025-12-04 01:13:42.748 +03:00 [INF] HTTP POST /api/Auth/login responded 400 in 3022.2385 ms
2025-12-04 01:13:50.393 +03:00 [INF] HTTP POST /api/Auth/login responded 400 in 135.0732 ms
2025-12-04 01:13:58.379 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 398.9102 ms
2025-12-04 01:13:58.769 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:13:58.771 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:13:58.867 +03:00 [INF] HTTP GET /api/Product responded 200 in 329.6430 ms
2025-12-04 01:13:58.889 +03:00 [INF] HTTP GET /api/Product responded 200 in 25.2514 ms
2025-12-04 01:13:59.010 +03:00 [INF] HTTP GET /api/Cart responded 200 in 472.5365 ms
2025-12-04 01:14:00.098 +03:00 [INF] HTTP GET /api/Cart responded 200 in 27.9299 ms
2025-12-04 01:14:02.540 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 226.2179 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:14:02.793 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIN40BN0NS:00000013
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:14:02.822 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:14:46.709 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:14:47.212 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:14:47.217 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:14:47.366 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:14:47.371 +03:00 [INF] Hosting environment: Development
2025-12-04 01:14:47.374 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:14:52.743 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:14:52.749 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:14:56.321 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:14:56.321 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:14:56.840 +03:00 [INF] HTTP GET /api/Product responded 200 in 4147.2050 ms
2025-12-04 01:14:57.068 +03:00 [INF] HTTP GET /api/Cart responded 200 in 4380.3793 ms
2025-12-04 01:14:57.249 +03:00 [INF] HTTP GET /api/Cart responded 200 in 164.3138 ms
2025-12-04 01:15:03.655 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 290.2801 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:15:03.869 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIN5FEQEFT:00000007
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:15:03.893 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 72
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:15:28.452 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 16640.1328 ms
2025-12-04 01:15:28.641 +03:00 [INF] HTTP GET /api/Cart responded 200 in 16.7382 ms
2025-12-04 01:15:31.019 +03:00 [INF] HTTP GET /api/Cart responded 200 in 17.1919 ms
2025-12-04 01:15:36.151 +03:00 [INF] HTTP GET /api/Cart responded 200 in 14.1175 ms
2025-12-04 01:15:36.173 +03:00 [INF] HTTP GET /api/Product responded 200 in 36.2342 ms
2025-12-04 01:15:36.175 +03:00 [INF] HTTP GET /api/Cart responded 200 in 15.3754 ms
2025-12-04 01:15:42.666 +03:00 [INF] HTTP POST /api/Auth/login responded 200 in 172.2724 ms
2025-12-04 01:15:42.722 +03:00 [INF] HTTP GET /api/Cart responded 200 in 8.3350 ms
2025-12-04 01:15:43.863 +03:00 [INF] HTTP GET /api/Cart responded 200 in 12.3176 ms
2025-12-04 01:20:44.981 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:20:45.576 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:20:45.582 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:20:45.663 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:20:45.666 +03:00 [INF] Hosting environment: Development
2025-12-04 01:20:45.669 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:21:08.273 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 573fdd50-b313-4c88-a6c1-9a06ff96caf4
2025-12-04 01:21:10.283 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = ozcan@gmail.com
2025-12-04 01:21:14.676 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 573fdd50-b313-4c88-a6c1-9a06ff96caf4
2025-12-04 01:21:24.827 +03:00 [INF] Claim: nbf = 1764800142
2025-12-04 01:21:26.656 +03:00 [INF] Claim: exp = 1764803742
2025-12-04 01:21:27.502 +03:00 [INF] Claim: iss = ecommerce-api
2025-12-04 01:21:28.422 +03:00 [INF] Claim: aud = ecommerce-client
2025-12-04 01:21:37.849 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:21:40.241 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:21:40.438 +03:00 [WRN] Sepet Bulunamadı. UserId: "573fdd50-b313-4c88-a6c1-9a06ff96caf4", SessionId: 898c86ce-e360-44ab-bf04-fb58113c7f6d
2025-12-04 01:21:40.549 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 2746.8256 ms
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet Bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 37
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:21:40.739 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIN8Q80IE9:00000001
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet Bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 37
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:21:40.766 +03:00 [WRN] Business exception occured: Sepet Bulunamadı
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet Bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 37
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:21:49.497 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 573fdd50-b313-4c88-a6c1-9a06ff96caf4
2025-12-04 01:21:49.503 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = ozcan@gmail.com
2025-12-04 01:21:49.508 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 573fdd50-b313-4c88-a6c1-9a06ff96caf4
2025-12-04 01:21:49.511 +03:00 [INF] Claim: nbf = 1764800142
2025-12-04 01:21:49.514 +03:00 [INF] Claim: exp = 1764803742
2025-12-04 01:21:49.518 +03:00 [INF] Claim: iss = ecommerce-api
2025-12-04 01:21:49.522 +03:00 [INF] Claim: aud = ecommerce-client
2025-12-04 01:21:49.576 +03:00 [WRN] Sepet Bulunamadı. UserId: "573fdd50-b313-4c88-a6c1-9a06ff96caf4", SessionId: 898c86ce-e360-44ab-bf04-fb58113c7f6d
2025-12-04 01:21:49.690 +03:00 [ERR] HTTP PUT /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1 responded 500 in 161.9356 ms
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet Bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 37
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:21:49.797 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/fc5520f8-41b5-4597-a601-733c0765e2c1, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHIN8Q80IE9:00000003
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet Bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 37
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:21:49.812 +03:00 [WRN] Business exception occured: Sepet Bulunamadı
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet Bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 37
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:22:08.021 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 573fdd50-b313-4c88-a6c1-9a06ff96caf4
2025-12-04 01:22:08.027 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress = ozcan@gmail.com
2025-12-04 01:22:08.032 +03:00 [INF] Claim: http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier = 573fdd50-b313-4c88-a6c1-9a06ff96caf4
2025-12-04 01:22:08.036 +03:00 [INF] Claim: nbf = 1764800142
2025-12-04 01:22:08.041 +03:00 [INF] Claim: exp = 1764803742
2025-12-04 01:22:08.045 +03:00 [INF] Claim: iss = ecommerce-api
2025-12-04 01:22:08.049 +03:00 [INF] Claim: aud = ecommerce-client
2025-12-04 01:22:08.279 +03:00 [ERR] HTTP DELETE /api/Cart responded 500 in 225.9648 ms
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.ClearCart.ClearCartCommandHandler.Handle(ClearCartCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\ClearCart\ClearCartCommandHandler.cs:line 23
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.ClearCart() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 104
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:22:08.370 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart, Method: DELETE, StatusCode: 200,User: Anonymous,TraceId: 0HNHIN8Q80IE9:00000005
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.ClearCart.ClearCartCommandHandler.Handle(ClearCartCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\ClearCart\ClearCartCommandHandler.cs:line 23
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.ClearCart() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 104
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:22:08.398 +03:00 [WRN] Business exception occured: Sepet bulunamadı
ECommerceAPI.Application.Exceptions.NotFoundException: Sepet bulunamadı
   at ECommerceAPI.Application.Features.Commands.Carts.ClearCart.ClearCartCommandHandler.Handle(ClearCartCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\ClearCart\ClearCartCommandHandler.cs:line 23
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.ClearCart() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 104
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 141
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:23:07.258 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:23:07.827 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:23:07.832 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:23:07.911 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:23:07.915 +03:00 [INF] Hosting environment: Development
2025-12-04 01:23:07.918 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:23:23.599 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:23:28.392 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:23:28.392 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:23:28.807 +03:00 [INF] HTTP GET /api/Cart responded 200 in 3214.8758 ms
2025-12-04 01:23:28.817 +03:00 [INF] HTTP GET /api/Product responded 200 in 5368.6474 ms
2025-12-04 01:23:31.447 +03:00 [INF] HTTP GET /api/Cart responded 200 in 157.7215 ms
2025-12-04 01:23:59.803 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:23:59.842 +03:00 [INF] HTTP GET /api/Product/6a8c74df-c10c-42b9-86fa-9a35d0c1f3c0 responded 200 in 99.1205 ms
2025-12-04 01:24:26.646 +03:00 [INF] HTTP POST /api/Cart/items responded 200 in 19177.9692 ms
2025-12-04 01:24:38.502 +03:00 [INF] HTTP GET /api/Cart responded 200 in 176.3387 ms
2025-12-04 01:24:45.698 +03:00 [INF] HTTP GET /api/Product/78f17bc5-0191-4c3d-9ed6-8aa4a5432a00 responded 200 in 28.6063 ms
2025-12-04 01:24:59.944 +03:00 [WRN] Yetersiz stok. ProductId: "78f17bc5-0191-4c3d-9ed6-8aa4a5432a00", Stock: 1, Requested: 2
2025-12-04 01:25:00.012 +03:00 [ERR] HTTP POST /api/Cart/items responded 500 in 4658.5150 ms
ECommerceAPI.Application.Exceptions.StockException: Stok yeterli değil stok miktarı: 1
   at ECommerceAPI.Application.Features.Commands.Carts.AddItemToCart.AddItemToCartCommandHandler.Handle(AddItemToCartCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\AddItemToCart\AddItemToCartCommandHandler.cs:line 48
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.AddItem(AddItemToCartCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:25:00.190 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items, Method: POST, StatusCode: 200,User: Anonymous,TraceId: 0HNHINA4KV8J8:0000000F
ECommerceAPI.Application.Exceptions.StockException: Stok yeterli değil stok miktarı: 1
   at ECommerceAPI.Application.Features.Commands.Carts.AddItemToCart.AddItemToCartCommandHandler.Handle(AddItemToCartCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\AddItemToCart\AddItemToCartCommandHandler.cs:line 48
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.AddItem(AddItemToCartCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:25:00.214 +03:00 [WRN] Business exception occured: Stok yeterli değil stok miktarı: 1
ECommerceAPI.Application.Exceptions.StockException: Stok yeterli değil stok miktarı: 1
   at ECommerceAPI.Application.Features.Commands.Carts.AddItemToCart.AddItemToCartCommandHandler.Handle(AddItemToCartCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\AddItemToCart\AddItemToCartCommandHandler.cs:line 48
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.AddItem(AddItemToCartCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:29:12.466 +03:00 [INF] HTTP GET /api/Cart responded 200 in 68.8484 ms
2025-12-04 01:29:19.052 +03:00 [INF] HTTP DELETE /api/Cart responded 200 in 85.6015 ms
2025-12-04 01:29:31.903 +03:00 [INF] HTTP GET /api/Product/09ec72c1-e06e-49cf-a956-6b74ebeb5c98 responded 200 in 33.6058 ms
2025-12-04 01:29:35.131 +03:00 [INF] HTTP GET /api/Product/78f17bc5-0191-4c3d-9ed6-8aa4a5432a00 responded 200 in 18.0682 ms
2025-12-04 01:29:37.213 +03:00 [INF] HTTP POST /api/Cart/items responded 200 in 31.0873 ms
2025-12-04 01:29:37.811 +03:00 [INF] HTTP GET /api/Cart responded 200 in 13.4032 ms
2025-12-04 01:29:39.029 +03:00 [ERR] HTTP PUT /api/Cart/items/b0c027a7-34ed-4486-9e96-1e91dac86c72 responded 500 in 120.5414 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:29:39.134 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/b0c027a7-34ed-4486-9e96-1e91dac86c72, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHINA4KV8J8:0000001D
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:29:39.148 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:30:21.703 +03:00 [ERR] HTTP PUT /api/Cart/items/b0c027a7-34ed-4486-9e96-1e91dac86c72 responded 500 in 148.1768 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:30:21.828 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/b0c027a7-34ed-4486-9e96-1e91dac86c72, Method: PUT, StatusCode: 200,User: Anonymous,TraceId: 0HNHINA4KV8J8:0000001F
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:30:21.843 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 26
2025-12-04 01:34:13.132 +03:00 [INF] Uygulama başarıyla başladı!
2025-12-04 01:34:13.850 +03:00 [INF] Now listening on: https://localhost:7196
2025-12-04 01:34:13.860 +03:00 [INF] Now listening on: http://localhost:5067
2025-12-04 01:34:13.966 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-04 01:34:13.969 +03:00 [INF] Hosting environment: Development
2025-12-04 01:34:13.971 +03:00 [INF] Content root path: C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API
2025-12-04 01:34:21.794 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-12-04 01:34:25.075 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-12-04 01:34:26.072 +03:00 [ERR] HTTP PUT /api/Cart/items/b0c027a7-34ed-4486-9e96-1e91dac86c72 responded 500 in 4322.4318 ms
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-12-04 01:34:26.351 +03:00 [ERR] Unhandled exception occured.Path: /api/Cart/items/b0c027a7-34ed-4486-9e96-1e91dac86c72, Method: PUT, StatusCode: 200,User: ozcan@gmail.com,TraceId: 0HNHINGB3VCM8:00000001
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 27
2025-12-04 01:34:26.414 +03:00 [WRN] Business exception occured: Stok Yeterli Değil
ECommerceAPI.Application.Exceptions.StockException: Stok Yeterli Değil
   at ECommerceAPI.Application.Features.Commands.Carts.UpdateCart.UpdateCartItemsCommandHandler.Handle(UpdateCartItemsCommandRequest request, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\Carts\UpdateCartItem\UpdateCartItemsCommandHandler.cs:line 58
   at ECommerceAPI.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Core\ECommerceAPI.Application\Behaviors\ValidationBehavior.cs:line 25
   at ECommerceAPI.API.Controllers.CartController.UpdateItem(Guid itemId, UpdateCartItemsCommandRequest request) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\CartController.cs:line 73
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_2>d.MoveNext() in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 133
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at ECommerceAPI.Infrastructure.Middleware.GlobalExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\Asus\Desktop\ECommerce-Backend\ECommerceAPI\Infrastructure\ECommerceAPI.Infrastructure\Middleware\GlobalExceptionHandlerMiddleware.cs:line 27
